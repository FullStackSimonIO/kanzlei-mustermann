---
description: Projekt finalisieren, testen und mergen
---

# Schritt 5: Finalisierung

## Aufgaben

### 1. Vollst√§ndigkeits-Check

```bash
echo "üîç Vollst√§ndigkeits-Check..."

BUILD_CONFIG=$(cat .temp/build-config.json)

# Check Navbar
if [ -f "src/Header/MobileNav.tsx" ] && \
   [ -f "src/Header/DesktopNav.tsx" ] && \
   [ -f "src/Header/config.ts" ]; then
  echo "‚úÖ Navbar vollst√§ndig"
else
  echo "‚ùå Navbar Dateien fehlen"
  exit 1
fi

# Check Footer
if [ -f "src/Footer/MobileFooter.tsx" ] && \
   [ -f "src/Footer/DesktopFooter.tsx" ] && \
   [ -f "src/Footer/config.ts" ]; then
  echo "‚úÖ Footer vollst√§ndig"
else
  echo "‚ùå Footer Dateien fehlen"
  exit 1
fi

# Check Heroes
HERO_COUNT=$(echo $BUILD_CONFIG | jq '.components.heroes | length')
HEROES_MISSING=0

for i in $(seq 0 $(($HERO_COUNT - 1))); do
  HERO_NAME=$(echo $BUILD_CONFIG | jq -r ".components.heroes[$i].name")
  if [ ! -f "src/heroes/${HERO_NAME}/index.tsx" ]; then
    echo "‚ùå Hero fehlt: $HERO_NAME"
    HEROES_MISSING=$((HEROES_MISSING + 1))
  fi
done

if [ $HEROES_MISSING -eq 0 ]; then
  echo "‚úÖ Alle $HERO_COUNT Heroes vorhanden"
else
  echo "‚ùå $HEROES_MISSING Heroes fehlen"
  exit 1
fi

# Check Blocks
BLOCK_COUNT=$(echo $BUILD_CONFIG | jq '.components.blocks | length')
BLOCKS_MISSING=0

for i in $(seq 0 $(($BLOCK_COUNT - 1))); do
  BLOCK_NAME=$(echo $BUILD_CONFIG | jq -r ".components.blocks[$i].name")
  BLOCK_CATEGORY=$(echo $BUILD_CONFIG | jq -r ".components.blocks[$i].category")
  
  if [ ! -f "src/blocks/${BLOCK_CATEGORY}/${BLOCK_NAME}/Component.tsx" ] || \
     [ ! -f "src/blocks/${BLOCK_CATEGORY}/${BLOCK_NAME}/config.ts" ]; then
    echo "‚ùå Block fehlt: $BLOCK_NAME ($BLOCK_CATEGORY)"
    BLOCKS_MISSING=$((BLOCKS_MISSING + 1))
  fi
done

if [ $BLOCKS_MISSING -eq 0 ]; then
  echo "‚úÖ Alle $BLOCK_COUNT Blocks vorhanden"
else
  echo "‚ùå $BLOCKS_MISSING Blocks fehlen"
  exit 1
fi

# Check payload.config.ts
if grep -q "Header" src/payload.config.ts && \
   grep -q "Footer" src/payload.config.ts && \
   grep -q "HeroBlock" src/payload.config.ts; then
  echo "‚úÖ Alle Komponenten in payload.config.ts registriert"
else
  echo "‚ùå Nicht alle Komponenten registriert"
  exit 1
fi

# Check Migrations
MIGRATION_COUNT=$(ls src/migrations/*.ts 2>/dev/null | wc -l)
echo "‚úÖ $MIGRATION_COUNT Migrationen gefunden"

echo ""
echo "‚úÖ Vollst√§ndigkeits-Check erfolgreich!"
```

### 2. TypeScript Build testen

```bash
echo "üî® Teste TypeScript Build..."

# Types generieren
echo "Generiere PayloadCMS Types..."
npm run payload generate:types

if [ $? -ne 0 ]; then
  echo "‚ùå Type Generation fehlgeschlagen"
  exit 1
fi

# Build ausf√ºhren
echo "F√ºhre Build aus..."
npm run build

if [ $? -eq 0 ]; then
  echo "‚úÖ TypeScript Build erfolgreich"
else
  echo "‚ùå TypeScript Build fehlgeschlagen"
  echo "Bitte Fehler beheben vor Fortsetzung"
  exit 1
fi
```

### 3. Payload Admin testen

```bash
echo "üöÄ Starte Dev Server f√ºr Tests..."
npm run dev &
DEV_PID=$!

# Warte bis Server l√§uft
echo "Warte auf Server Start..."
sleep 15

echo ""
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "  üìã MANUELLE TEST-CHECKLISTE"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo ""
echo "√ñffne: http://localhost:3000/admin"
echo ""
echo "Teste folgendes:"
echo "- [ ] Header Global ist editierbar"
echo "- [ ] Footer Global ist editierbar"
echo "- [ ] Logo Upload funktioniert"
echo "- [ ] Navigation Links k√∂nnen hinzugef√ºgt werden"
echo "- [ ] CTA Button hat ShadCN Variants (default, outline, ghost, link)"
echo "- [ ] Neue Seite kann erstellt werden"
echo "- [ ] Hero Block kann zu Seite hinzugef√ºgt werden"
echo "- [ ] Alle Hero-Typen sind ausw√§hlbar"
echo "- [ ] Alle anderen Blocks sind verf√ºgbar"
echo "- [ ] Conditional Fields funktionieren (z.B. Image nur bei Heroes mit Bild)"
echo "- [ ] RichText Editor funktioniert"
echo "- [ ] Media Upload funktioniert"
echo "- [ ] Alle Blocks sind editierbar"
echo "- [ ] Deutsche Labels √ºberall vorhanden"
echo "- [ ] Keine Fehlermeldungen in Browser Console"
echo "- [ ] Keine Fehlermeldungen in Server Console"
echo ""
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo ""
echo "Dr√ºcke Enter wenn Tests abgeschlossen..."
read

# Dev Server beenden
kill $DEV_PID
echo "‚úÖ Dev Server gestoppt"
```

### 4. Dokumentation generieren

```typescript
const buildConfig = JSON.parse(
  fs.readFileSync('.temp/build-config.json', 'utf-8')
);

const heroAnalysis = JSON.parse(
  fs.readFileSync('.temp/analysis/heroes-analysis.json', 'utf-8')
);

const blockAnalysis = JSON.parse(
  fs.readFileSync('.temp/analysis/blocks-analysis.json', 'utf-8')
);

const documentation = `# Website Generierung - Dokumentation

Generiert am: ${new Date().toLocaleString('de-DE')}
Branch: ${buildConfig.branch}

## √úbersicht

Diese Website wurde vollautomatisch aus Relume Komponenten generiert.
Alle Designs wurden exakt √ºbernommen - keine Custom-Styles!

## Konfiguration

### Input Props
\`\`\`json
{
  "navbar": "${buildConfig.components.navbar.name}",
  "footer": "${buildConfig.components.footer.name}",
  "heroes": [${buildConfig.components.heroes.map(h => `"${h.originalName}"`).join(', ')}],
  "blocks": [${buildConfig.components.blocks.map(b => `"${b.name}"`).join(', ')}]
}
\`\`\`

### Relume Repository
- **Lokaler Pfad**: \`${buildConfig.relume.localPath}\`
- **Base Path**: \`${buildConfig.relume.basePath}\`

## Komponenten

### Header (Global)
- **Komponente**: ${buildConfig.components.navbar.name}
- **Quelle**: \`${buildConfig.components.navbar.localPath}\`
- **Ziel**: \`src/Header/\`
- **Dateien**: 
  - \`MobileNav.tsx\` - Mobile Navigation mit Burger Menu
  - \`DesktopNav.tsx\` - Desktop Navigation
  - \`config.ts\` - PayloadCMS Global Config
  - \`hooks/revalidateHeader.ts\` - Cache Revalidation
  - \`index.tsx\` - Combined Export
- **Global Slug**: \`header\`
- **Features**:
  - Logo Upload
  - Navigation Array (max 8 Items)
  - Submenu Support (Dropdown)
  - CTA Button mit ShadCN Variants
  - Responsive (lg:hidden / hidden lg:)

### Footer (Global)
- **Komponente**: ${buildConfig.components.footer.name}
- **Quelle**: \`${buildConfig.components.footer.localPath}\`
- **Ziel**: \`src/Footer/\`
- **Dateien**:
  - \`MobileFooter.tsx\` - Mobile Layout (stacked)
  - \`DesktopFooter.tsx\` - Desktop Grid Layout
  - \`config.ts\` - PayloadCMS Global Config
  - \`hooks/revalidateFooter.ts\` - Cache Revalidation
  - \`index.tsx\` - Combined Export
- **Global Slug**: \`footer\`
- **Features**:
  - Logo Upload
  - Beschreibung (Textarea)
  - Link Columns (2-4 Spalten)
  - Social Media Icons (Lucide)
  - Copyright Text
  - Responsive Grid/Stack

### Heroes (${buildConfig.components.heroes.length} Typen)

**Shared Config**: \`src/heroes/config.ts\`
- **Block Slug**: \`hero\`
- **Smart Conditionals**: Felder erscheinen nur f√ºr relevante Hero-Typen
- **ShadCN Button Variants**: default, outline, ghost, link

${buildConfig.components.heroes.map((hero, idx) => {
  const analysis = heroAnalysis[idx];
  return `#### ${hero.originalName} ‚Üí ${hero.name}
- **Quelle**: \`${hero.localPath}\`
- **Ziel**: \`src/heroes/${hero.name}/index.tsx\`
- **Features**:
  - Heading & Subheading (RichText)
  ${analysis.hasImage ? '- Image Upload' : ''}
  ${analysis.hasVideo ? '- Background Video' : ''}
  ${analysis.hasFeatures ? '- Feature List mit Icons' : ''}
  ${analysis.hasStats ? '- Statistics Grid' : ''}
  ${analysis.hasTestimonial ? '- Testimonial mit Avatar' : ''}
  - Buttons (max 3) mit ShadCN Variants`;
}).join('\n\n')}

### Content Blocks (${buildConfig.components.blocks.length} Typen)

${Object.entries(
  buildConfig.components.blocks.reduce((acc, block, idx) => {
    if (!acc[block.category]) acc[block.category] = [];
    acc[block.category].push({ ...block, analysis: blockAnalysis[idx] });
    return acc;
  }, {})
).map(([category, blocks]) => `#### ${category} (${blocks.length} Blocks)

${blocks.map(b => `##### ${b.name}
- **Quelle**: \`${b.localPath}\`
- **Ziel**: \`src/blocks/${b.category}/${b.name}/\`
- **Block Slug**: \`${b.name.toLowerCase()}\`
- **Dateien**: Component.tsx, config.ts, index.ts
- **Features**:
  ${b.analysis.hasHeading ? '- Heading & Description (RichText)' : ''}
  ${b.analysis.hasImage ? '- Image Upload' : ''}
  ${b.analysis.hasButtons ? \`- Buttons (\${b.analysis.buttonCount}) mit ShadCN Variants\` : ''}
  ${b.analysis.hasForm ? '- Form Integration' : ''}
  ${b.analysis.hasGrid ? '- Grid Layout' : ''}
  ${b.analysis.hasCards ? '- Card Components' : ''}
  ${b.analysis.hasTestimonials ? '- Testimonials' : ''}
  ${b.analysis.hasFAQ ? '- FAQ Accordion' : ''}`).join('\n\n')}
`).join('\n\n')}

## Verwendung

### 1. Header/Footer bearbeiten

\`\`\`bash
# √ñffne Admin Panel
npm run dev
# Gehe zu http://localhost:3000/admin
# Navigiere zu "Globale Einstellungen" > "Kopfzeile" oder "Fu√üzeile"
\`\`\`

**Header Felder:**
- Logo (Upload)
- Navigation Links (Array, max 8)
  - Label
  - Link (Page oder URL)
  - Submenu (Optional)
- CTA Button
  - Text
  - Link (Page oder URL)
  - Variant (default, outline, ghost, link)

**Footer Felder:**
- Logo (Upload, optional)
- Beschreibung (Textarea)
- Spalten (Array, 2-4)
  - Heading
  - Links Array (Label + Link)
- Social Media (Array)
  - Platform (Select: Facebook, Twitter, Instagram, LinkedIn, YouTube, GitHub)
  - URL
- Copyright Text

### 2. Neue Seite erstellen

\`\`\`bash
# Admin Panel > Seiten > Neue Seite erstellen
\`\`\`

**Layout Blocks verf√ºgbar:**
1. **Hero Block** (${buildConfig.components.heroes.length} Typen)
   - W√§hle Hero Typ aus Dropdown
   - Felder erscheinen dynamisch basierend auf Typ
   - Buttons mit ShadCN Variants

2. **Content Blocks** (${buildConfig.components.blocks.length} verf√ºgbar)
   - Kategorien: ${Object.keys(
     buildConfig.components.blocks.reduce((acc, b) => {
       acc[b.category] = true;
       return acc;
     }, {})
   ).join(', ')}
   - Jeder Block mit deutschen Labels
   - RichText f√ºr Beschreibungen
   - Media Upload f√ºr Bilder
   - Buttons mit ShadCN Variants

### 3. Button Styling

**WICHTIG**: Alle Buttons verwenden ausschlie√ülich ShadCN UI Variants:

\`\`\`typescript
import { Button } from '@/components/ui/button'

// Verf√ºgbare Variants:
<Button variant="default">  {/* Gef√ºllt, Primary Color */}
<Button variant="outline">  {/* Rahmen, transparent */}
<Button variant="ghost">    {/* Vollst√§ndig transparent */}
<Button variant="link">     {/* Als Link gestylt */}
\`\`\`

**KEINE Custom-Styles!** Nur die Variants aus \`components/ui/button.tsx\`.

### 4. Responsive Design

Alle Komponenten verwenden Tailwind Breakpoints:
- Mobile: Default (keine Prefix)
- Tablet: \`md:\` (768px+)
- Desktop: \`lg:\` (1024px+)

Navigation:
- Mobile: \`lg:hidden\` - Burger Menu
- Desktop: \`hidden lg:block\` - Horizontal Nav

## Design Preservation

‚úÖ **Alle Original Relume Designs wurden exakt √ºbernommen**

### Was beibehalten wurde:
- Alle Tailwind Classes (z.B. \`px-[5%]\`, \`py-16 md:py-24 lg:py-28\`)
- Grid Layouts (z.B. \`grid-cols-1 lg:grid-cols-2\`)
- Spacing (z.B. \`gap-x-20 gap-y-12\`)
- Typography (z.B. \`text-6xl font-bold md:text-9xl\`)
- Responsive Breakpoints (md:, lg:)
- Container Struktur

### Was ge√§ndert wurde:
- ‚ùå Hardcoded Daten ‚Üí ‚úÖ PayloadCMS Props
- ‚ùå Custom Button Styles ‚Üí ‚úÖ ShadCN Variants
- ‚ùå Static Content ‚Üí ‚úÖ Dynamic CMS Content

### Was NICHT ge√§ndert wurde:
- Layout & Struktur
- Tailwind Classes
- Spacing & Sizing
- Responsive Behavior
- Visual Design

## Technologie Stack

- **PayloadCMS 3.0** - Headless CMS
- **Next.js 14** - React Framework
- **TypeScript** - Type Safety
- **Tailwind CSS** - Utility-First CSS
- **ShadCN UI** - Component Library
- **Lucide React** - Icon Library
- **Relume** - Component Source

## Migrations

Ausgef√ºhrte Migrationen:
\`\`\`bash
$(ls src/migrations/*.ts | sed 's/src\/migrations\//- /')
\`\`\`

## N√§chste Schritte

### Sofort:
1. ‚úÖ Content im Admin Panel eingeben
2. ‚úÖ Logo hochladen (Header & Footer)
3. ‚úÖ Navigation Links konfigurieren
4. ‚úÖ Footer Spalten f√ºllen
5. ‚úÖ Erste Test-Seiten erstellen

### Sp√§ter:
6. ‚è≥ SEO Felder konfigurieren (falls vorhanden)
7. ‚è≥ Media Library mit Bildern f√ºllen
8. ‚è≥ Alle Seiten mit Content f√ºllen
9. ‚è≥ Finale Tests (Desktop + Mobile)
10. ‚è≥ Production Deployment

## Git Repository

- **Branch**: ${buildConfig.branch}
- **// filepath: .cursor/commands/05-finalize.mdc

---
description: Projekt finalisieren, testen und mergen
---

# Schritt 5: Finalisierung

## Aufgaben

### 1. Vollst√§ndigkeits-Check

```bash
echo "üîç Vollst√§ndigkeits-Check..."

BUILD_CONFIG=$(cat .temp/build-config.json)

# Check Navbar
if [ -f "src/Header/MobileNav.tsx" ] && \
   [ -f "src/Header/DesktopNav.tsx" ] && \
   [ -f "src/Header/config.ts" ]; then
  echo "‚úÖ Navbar vollst√§ndig"
else
  echo "‚ùå Navbar Dateien fehlen"
  exit 1
fi

# Check Footer
if [ -f "src/Footer/MobileFooter.tsx" ] && \
   [ -f "src/Footer/DesktopFooter.tsx" ] && \
   [ -f "src/Footer/config.ts" ]; then
  echo "‚úÖ Footer vollst√§ndig"
else
  echo "‚ùå Footer Dateien fehlen"
  exit 1
fi

# Check Heroes
HERO_COUNT=$(echo $BUILD_CONFIG | jq '.components.heroes | length')
HEROES_MISSING=0

for i in $(seq 0 $(($HERO_COUNT - 1))); do
  HERO_NAME=$(echo $BUILD_CONFIG | jq -r ".components.heroes[$i].name")
  if [ ! -f "src/heroes/${HERO_NAME}/index.tsx" ]; then
    echo "‚ùå Hero fehlt: $HERO_NAME"
    HEROES_MISSING=$((HEROES_MISSING + 1))
  fi
done

if [ $HEROES_MISSING -eq 0 ]; then
  echo "‚úÖ Alle $HERO_COUNT Heroes vorhanden"
else
  echo "‚ùå $HEROES_MISSING Heroes fehlen"
  exit 1
fi

# Check Blocks
BLOCK_COUNT=$(echo $BUILD_CONFIG | jq '.components.blocks | length')
BLOCKS_MISSING=0

for i in $(seq 0 $(($BLOCK_COUNT - 1))); do
  BLOCK_NAME=$(echo $BUILD_CONFIG | jq -r ".components.blocks[$i].name")
  BLOCK_CATEGORY=$(echo $BUILD_CONFIG | jq -r ".components.blocks[$i].category")
  
  if [ ! -f "src/blocks/${BLOCK_CATEGORY}/${BLOCK_NAME}/Component.tsx" ] || \
     [ ! -f "src/blocks/${BLOCK_CATEGORY}/${BLOCK_NAME}/config.ts" ]; then
    echo "‚ùå Block fehlt: $BLOCK_NAME ($BLOCK_CATEGORY)"
    BLOCKS_MISSING=$((BLOCKS_MISSING + 1))
  fi
done

if [ $BLOCKS_MISSING -eq 0 ]; then
  echo "‚úÖ Alle $BLOCK_COUNT Blocks vorhanden"
else
  echo "‚ùå $BLOCKS_MISSING Blocks fehlen"
  exit 1
fi

# Check payload.config.ts
if grep -q "Header" src/payload.config.ts && \
   grep -q "Footer" src/payload.config.ts && \
   grep -q "HeroBlock" src/payload.config.ts; then
  echo "‚úÖ Alle Komponenten in payload.config.ts registriert"
else
  echo "‚ùå Nicht alle Komponenten registriert"
  exit 1
fi

# Check Migrations
MIGRATION_COUNT=$(ls src/migrations/*.ts 2>/dev/null | wc -l)
echo "‚úÖ $MIGRATION_COUNT Migrationen gefunden"

echo ""
echo "‚úÖ Vollst√§ndigkeits-Check erfolgreich!"
```

### 2. TypeScript Build testen

```bash
echo "üî® Teste TypeScript Build..."

# Types generieren
echo "Generiere PayloadCMS Types..."
npm run payload generate:types

if [ $? -ne 0 ]; then
  echo "‚ùå Type Generation fehlgeschlagen"
  exit 1
fi

# Build ausf√ºhren
echo "F√ºhre Build aus..."
npm run build

if [ $? -eq 0 ]; then
  echo "‚úÖ TypeScript Build erfolgreich"
else
  echo "‚ùå TypeScript Build fehlgeschlagen"
  echo "Bitte Fehler beheben vor Fortsetzung"
  exit 1
fi
```

### 3. Payload Admin testen

```bash
echo "üöÄ Starte Dev Server f√ºr Tests..."
npm run dev &
DEV_PID=$!

# Warte bis Server l√§uft
echo "Warte auf Server Start..."
sleep 15

echo ""
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "  üìã MANUELLE TEST-CHECKLISTE"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo ""
echo "√ñffne: http://localhost:3000/admin"
echo ""
echo "Teste folgendes:"
echo "- [ ] Header Global ist editierbar"
echo "- [ ] Footer Global ist editierbar"
echo "- [ ] Logo Upload funktioniert"
echo "- [ ] Navigation Links k√∂nnen hinzugef√ºgt werden"
echo "- [ ] CTA Button hat ShadCN Variants (default, outline, ghost, link)"
echo "- [ ] Neue Seite kann erstellt werden"
echo "- [ ] Hero Block kann zu Seite hinzugef√ºgt werden"
echo "- [ ] Alle Hero-Typen sind ausw√§hlbar"
echo "- [ ] Alle anderen Blocks sind verf√ºgbar"
echo "- [ ] Conditional Fields funktionieren (z.B. Image nur bei Heroes mit Bild)"
echo "- [ ] RichText Editor funktioniert"
echo "- [ ] Media Upload funktioniert"
echo "- [ ] Alle Blocks sind editierbar"
echo "- [ ] Deutsche Labels √ºberall vorhanden"
echo "- [ ] Keine Fehlermeldungen in Browser Console"
echo "- [ ] Keine Fehlermeldungen in Server Console"
echo ""
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo ""
echo "Dr√ºcke Enter wenn Tests abgeschlossen..."
read

# Dev Server beenden
kill $DEV_PID
echo "‚úÖ Dev Server gestoppt"
```

### 4. Dokumentation generieren

```typescript
const buildConfig = JSON.parse(
  fs.readFileSync('.temp/build-config.json', 'utf-8')
);

const heroAnalysis = JSON.parse(
  fs.readFileSync('.temp/analysis/heroes-analysis.json', 'utf-8')
);

const blockAnalysis = JSON.parse(
  fs.readFileSync('.temp/analysis/blocks-analysis.json', 'utf-8')
);

const documentation = `# Website Generierung - Dokumentation

Generiert am: ${new Date().toLocaleString('de-DE')}
Branch: ${buildConfig.branch}

## √úbersicht

Diese Website wurde vollautomatisch aus Relume Komponenten generiert.
Alle Designs wurden exakt √ºbernommen - keine Custom-Styles!

## Konfiguration

### Input Props
\`\`\`json
{
  "navbar": "${buildConfig.components.navbar.name}",
  "footer": "${buildConfig.components.footer.name}",
  "heroes": [${buildConfig.components.heroes.map(h => `"${h.originalName}"`).join(', ')}],
  "blocks": [${buildConfig.components.blocks.map(b => `"${b.name}"`).join(', ')}]
}
\`\`\`

### Relume Repository
- **Lokaler Pfad**: \`${buildConfig.relume.localPath}\`
- **Base Path**: \`${buildConfig.relume.basePath}\`

## Komponenten

### Header (Global)
- **Komponente**: ${buildConfig.components.navbar.name}
- **Quelle**: \`${buildConfig.components.navbar.localPath}\`
- **Ziel**: \`src/Header/\`
- **Dateien**: 
  - \`MobileNav.tsx\` - Mobile Navigation mit Burger Menu
  - \`DesktopNav.tsx\` - Desktop Navigation
  - \`config.ts\` - PayloadCMS Global Config
  - \`hooks/revalidateHeader.ts\` - Cache Revalidation
  - \`index.tsx\` - Combined Export
- **Global Slug**: \`header\`
- **Features**:
  - Logo Upload
  - Navigation Array (max 8 Items)
  - Submenu Support (Dropdown)
  - CTA Button mit ShadCN Variants
  - Responsive (lg:hidden / hidden lg:)

### Footer (Global)
- **Komponente**: ${buildConfig.components.footer.name}
- **Quelle**: \`${buildConfig.components.footer.localPath}\`
- **Ziel**: \`src/Footer/\`
- **Dateien**:
  - \`MobileFooter.tsx\` - Mobile Layout (stacked)
  - \`DesktopFooter.tsx\` - Desktop Grid Layout
  - \`config.ts\` - PayloadCMS Global Config
  - \`hooks/revalidateFooter.ts\` - Cache Revalidation
  - \`index.tsx\` - Combined Export
- **Global Slug**: \`footer\`
- **Features**:
  - Logo Upload
  - Beschreibung (Textarea)
  - Link Columns (2-4 Spalten)
  - Social Media Icons (Lucide)
  - Copyright Text
  - Responsive Grid/Stack

### Heroes (${buildConfig.components.heroes.length} Typen)

**Shared Config**: \`src/heroes/config.ts\`
- **Block Slug**: \`hero\`
- **Smart Conditionals**: Felder erscheinen nur f√ºr relevante Hero-Typen
- **ShadCN Button Variants**: default, outline, ghost, link

${buildConfig.components.heroes.map((hero, idx) => {
  const analysis = heroAnalysis[idx];
  return `#### ${hero.originalName} ‚Üí ${hero.name}
- **Quelle**: \`${hero.localPath}\`
- **Ziel**: \`src/heroes/${hero.name}/index.tsx\`
- **Features**:
  - Heading & Subheading (RichText)
  ${analysis.hasImage ? '- Image Upload' : ''}
  ${analysis.hasVideo ? '- Background Video' : ''}
  ${analysis.hasFeatures ? '- Feature List mit Icons' : ''}
  ${analysis.hasStats ? '- Statistics Grid' : ''}
  ${analysis.hasTestimonial ? '- Testimonial mit Avatar' : ''}
  - Buttons (max 3) mit ShadCN Variants`;
}).join('\n\n')}

### Content Blocks (${buildConfig.components.blocks.length} Typen)

${Object.entries(
  buildConfig.components.blocks.reduce((acc, block, idx) => {
    if (!acc[block.category]) acc[block.category] = [];
    acc[block.category].push({ ...block, analysis: blockAnalysis[idx] });
    return acc;
  }, {})
).map(([category, blocks]) => `#### ${category} (${blocks.length} Blocks)

${blocks.map(b => `##### ${b.name}
- **Quelle**: \`${b.localPath}\`
- **Ziel**: \`src/blocks/${b.category}/${b.name}/\`
- **Block Slug**: \`${b.name.toLowerCase()}\`
- **Dateien**: Component.tsx, config.ts, index.ts
- **Features**:
  ${b.analysis.hasHeading ? '- Heading & Description (RichText)' : ''}
  ${b.analysis.hasImage ? '- Image Upload' : ''}
  ${b.analysis.hasButtons ? \`- Buttons (\${b.analysis.buttonCount}) mit ShadCN Variants\` : ''}
  ${b.analysis.hasForm ? '- Form Integration' : ''}
  ${b.analysis.hasGrid ? '- Grid Layout' : ''}
  ${b.analysis.hasCards ? '- Card Components' : ''}
  ${b.analysis.hasTestimonials ? '- Testimonials' : ''}
  ${b.analysis.hasFAQ ? '- FAQ Accordion' : ''}`).join('\n\n')}
`).join('\n\n')}

## Verwendung

### 1. Header/Footer bearbeiten

\`\`\`bash
# √ñffne Admin Panel
npm run dev
# Gehe zu http://localhost:3000/admin
# Navigiere zu "Globale Einstellungen" > "Kopfzeile" oder "Fu√üzeile"
\`\`\`

**Header Felder:**
- Logo (Upload)
- Navigation Links (Array, max 8)
  - Label
  - Link (Page oder URL)
  - Submenu (Optional)
- CTA Button
  - Text
  - Link (Page oder URL)
  - Variant (default, outline, ghost, link)

**Footer Felder:**
- Logo (Upload, optional)
- Beschreibung (Textarea)
- Spalten (Array, 2-4)
  - Heading
  - Links Array (Label + Link)
- Social Media (Array)
  - Platform (Select: Facebook, Twitter, Instagram, LinkedIn, YouTube, GitHub)
  - URL
- Copyright Text

### 2. Neue Seite erstellen

\`\`\`bash
# Admin Panel > Seiten > Neue Seite erstellen
\`\`\`

**Layout Blocks verf√ºgbar:**
1. **Hero Block** (${buildConfig.components.heroes.length} Typen)
   - W√§hle Hero Typ aus Dropdown
   - Felder erscheinen dynamisch basierend auf Typ
   - Buttons mit ShadCN Variants

2. **Content Blocks** (${buildConfig.components.blocks.length} verf√ºgbar)
   - Kategorien: ${Object.keys(
     buildConfig.components.blocks.reduce((acc, b) => {
       acc[b.category] = true;
       return acc;
     }, {})
   ).join(', ')}
   - Jeder Block mit deutschen Labels
   - RichText f√ºr Beschreibungen
   - Media Upload f√ºr Bilder
   - Buttons mit ShadCN Variants

### 3. Button Styling

**WICHTIG**: Alle Buttons verwenden ausschlie√ülich ShadCN UI Variants:

\`\`\`typescript
import { Button } from '@/components/ui/button'

// Verf√ºgbare Variants:
<Button variant="default">  {/* Gef√ºllt, Primary Color */}
<Button variant="outline">  {/* Rahmen, transparent */}
<Button variant="ghost">    {/* Vollst√§ndig transparent */}
<Button variant="link">     {/* Als Link gestylt */}
\`\`\`

**KEINE Custom-Styles!** Nur die Variants aus \`components/ui/button.tsx\`.

### 4. Responsive Design

Alle Komponenten verwenden Tailwind Breakpoints:
- Mobile: Default (keine Prefix)
- Tablet: \`md:\` (768px+)
- Desktop: \`lg:\` (1024px+)

Navigation:
- Mobile: \`lg:hidden\` - Burger Menu
- Desktop: \`hidden lg:block\` - Horizontal Nav

## Design Preservation

‚úÖ **Alle Original Relume Designs wurden exakt √ºbernommen**

### Was beibehalten wurde:
- Alle Tailwind Classes (z.B. \`px-[5%]\`, \`py-16 md:py-24 lg:py-28\`)
- Grid Layouts (z.B. \`grid-cols-1 lg:grid-cols-2\`)
- Spacing (z.B. \`gap-x-20 gap-y-12\`)
- Typography (z.B. \`text-6xl font-bold md:text-9xl\`)
- Responsive Breakpoints (md:, lg:)
- Container Struktur

### Was ge√§ndert wurde:
- ‚ùå Hardcoded Daten ‚Üí ‚úÖ PayloadCMS Props
- ‚ùå Custom Button Styles ‚Üí ‚úÖ ShadCN Variants
- ‚ùå Static Content ‚Üí ‚úÖ Dynamic CMS Content

### Was NICHT ge√§ndert wurde:
- Layout & Struktur
- Tailwind Classes
- Spacing & Sizing
- Responsive Behavior
- Visual Design

## Technologie Stack

- **PayloadCMS 3.0** - Headless CMS
- **Next.js 14** - React Framework
- **TypeScript** - Type Safety
- **Tailwind CSS** - Utility-First CSS
- **ShadCN UI** - Component Library
- **Lucide React** - Icon Library
- **Relume** - Component Source

## Migrations

Ausgef√ºhrte Migrationen:
\`\`\`bash
$(ls src/migrations/*.ts | sed 's/src\/migrations\//- /')
\`\`\`

## N√§chste Schritte

### Sofort:
1. ‚úÖ Content im Admin Panel eingeben
2. ‚úÖ Logo hochladen (Header & Footer)
3. ‚úÖ Navigation Links konfigurieren
4. ‚úÖ Footer Spalten f√ºllen
5. ‚úÖ Erste Test-Seiten erstellen

### Sp√§ter:
6. ‚è≥ SEO Felder konfigurieren (falls vorhanden)
7. ‚è≥ Media Library mit Bildern f√ºllen
8. ‚è≥ Alle Seiten mit Content f√ºllen
9. ‚è≥ Finale Tests (Desktop + Mobile)
10. ‚è≥ Production Deployment

